(()=>{"use strict";(()=>{function t(t){var e=document.createElement("div");return e.innerHTML=t,e.querySelector("template").innerHTML}const e=[{id:1,article:t('<template> <h3 class="topic" data-id="1">如何看待知乎上的男拳</h3> <article class="article"> 写作要练的一项基本功是真实地反映现实生活、 如实地表现客观事物。“ 现实生活”或“客观事物”， 就写作来说，它无非就是构成文章内容的人、事、物、景等。 要工于记实，就是要学会真实、准确地表现人、事、物、景。这就像绘画中的写生，对所 画的对象，它的形态、色调、明暗、质地、量感……都能够如实地表现出来。画一棵树就像 一棵树，画一个人就像一个人。这就为绘画创作打下了基础。基础打好了，创作的时候， 构思一旦成熟，就可以大笔泼墨，任情挥洒，想画什么就画什么，画什么就像什么。写作 也是这样，要做到对所写的人、事、物、景都能逼真再现，写什么就是什么。如果你写的一 个人，一件事，一棵树，一场春雨，别人看了，觉得不像那个样子，不是那么回事，不符合 事物的本来面目，那就不是如实记写了 </article> </template>')},{id:2,article:t('<template> <h3 class="topic" data-id="2">如何看待知乎上的男拳</h3> <article> 他在《看不见的城市》里随口说出的词句，就能轻易地切割你的神经，让你在每一个寡情 的黄昏或者晚上，又在渴求向他人互诉衷肠。 他说：记忆中的形象一旦被词语固定住，就会在现实中 被抹掉。就像马可波罗不愿意向别人讲述他的威尼斯，我尽量避免向任何人全盘提起关于她的故事，就 是怕一下子失去她。或者，在我讲述其他故事的时候，我已经在一点点失去她。 把这些话写下来吧， 水总归能熄灭火写下的文字。 那么痛快地承认吧，我的朋友。 其实你和我一样擅长伪装，精于在人群 面前保持另外一幅皮相。 我所有的自负都来自我的自卑，所有的英雄气概都来自于我内心的软弱，所 有的振振有词都因为心中满是怀疑。我假装无情，其实是痛恨自己的深情。我以为人生的意义在于四 处游荡流亡，其实只是掩饰至今没有找到愿意驻足的地方。 </article> </template>')},{id:3,article:t("<template> <h3 class=\"topic\" data-id=\"3\">周记</h3> <article> ### 第二周 周结 10.18 知识点 ： cloneNode克隆元素 获取到元素中自定义属性为data-()的值 如果括号中 写id 那么就是this.dataset.id 如果括号中写abc 那么就是this.dataset.abc 10.19 解耦：写方法的时候要考虑方法的复用性 一个方法只做一件事 入参：在方法的入参中 必传参数放前面 非必传参数可以靠后放 数据中id： 通常用来和服务端交互 DOM.remove() 只是在页面中没有 但是变量还是存在的 页面性能优化：文档碎片可以减少重绘和回流提高html性能 回调地域： Promise 构造函数有两个变量 resolve 用于返回异步执行成功的函数 reject 用于返回异步执行失败的函数 async await这两个单词必须同时出现 使用的时候只是感觉变成同步 实际上还是异步 但是提高了代码的可读性 10.20 在需要判断的时候可以用三元表达式 前提是在一种情况下 非是即否 并且是非是即否的情况下用 导入的分类 一种叫同步导入 一种叫异步导入 按需加载 10.21 正则 是用来匹配字符串 有些特殊字符串 是无法匹配的 特殊字符 \\ /() [] {} \\n + * () 代表分组 + 表示一个或多个 * 0个或多个 \\S 反斜杠加大写字母代表非 10.22 正则补充 . 匹配回车以外的任何字符 test()检查元素是否符合正则表达式的规则 如果符合true否则false match方法是匹配所有符合正则表达式的语句 把匹配的值放到数组 用来获取到()里的值 第一种： reg.replace(reg,function(item,$1,$2){ console.log(item) console.log($1) console.log($2) }) 第二种: reg.replace(reg,function(item){ console.log (RegExp.$1) console.log (RegExp.$2) }) 先行断言 /根据前面匹配后面 匹配到了输出前面 hello(?=world) 'hello world' 可以匹配hello 但是不包含world hello(?=world) 'hello abc' 什么也匹配不到 判断hello 后面跟的是world 如果不是那么匹配不成功 后行断言 /根据后面匹配前面 匹配到了输出后面 (?=hello)world 判断world前面不是hello 如果是那返回world #### 在写根据#号判断h标签的时候 通过之前的写功能 我可以自己有逻辑 从要出的效果逐步往前推 从结果推需要实现的步骤 在通过正则来获取需要的文本或者标签 通过#号长度来判断 h标签的大小 最后把结果返回 </article> </template>")}];var l=document.querySelector(".left"),o=l.querySelector(".box");o.remove(),e.forEach((t=>{var e=o.cloneNode(!0);e.querySelector(".topic-text").innerHTML=t.article,l.appendChild(e)})),new class{constructor(t){this.el=t.el,this.text=this.el.innerHTML,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"查看全文",this.ellipsisButtonText=t.ellipsisButtonText||"收起",this.showFindAllButton=t.showFindAllButton||!1,this.flag=!0}get buttonText(){return this.flag?this.findAllButtonText:this.ellipsisButtonText}exec(){if(!this.text)throw new Errow("文本内容不能为空");this.el.innerHTML=this.format(this.text,this.textCount),this.showFindAllButton&&this.addButton()}addButton(){var t=document.createElement("a");t.textContent=this.findAllButtonText,t.style.cssText="\n            color:blue;\n            cursor: pointer;\n        ";var e=this;t.addEventListener("click",(function(){e.flag=!e.flag,this.textContent=e.buttonText,e.el.childNodes[0].textContent=e.flag?e.format(e.text,e.textCount):e.text})),this.el.appendChild(t,this.el.childNodes[0])}format(t,e){return t.length<e?t:t.substring(0,e)+"..."}}({el:document.querySelectorAll(".topic-text")[0],textCount:30,findAllButtonText:"查看",showFindAllButton:!0}).exec(),document.querySelectorAll(".topic").forEach((t=>{t.onclick=function(){window.location.href="./articleDetails.html?id="+this.dataset.id}}))})()})();